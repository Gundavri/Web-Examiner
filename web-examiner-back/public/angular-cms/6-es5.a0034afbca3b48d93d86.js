function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{JqxB:function(e,t,i){"use strict";i.r(t);var n,a=i("ofXK"),r=i("tyNb"),c=i("fXoL"),s=i("tk/3"),o=((n=function(){function e(t){_classCallCheck(this,e),this.httpClient=t,this.urlSuffix="/exam",this.exams=[]}return _createClass(e,[{key:"examsGet$",value:function(){return this.httpClient.get(this.urlSuffix)}},{key:"examDelete$",value:function(e){return this.httpClient.delete(this.urlSuffix+"/"+e)}},{key:"examPost$",value:function(e){return this.httpClient.post(this.urlSuffix,e)}},{key:"examPut$",value:function(e,t){return this.httpClient.put(this.urlSuffix+"/"+e,t)}}]),e}()).\u0275fac=function(e){return new(e||n)(c.Vb(s.b))},n.\u0275prov=c.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n),u=i("4xmj"),b=i("S+vS"),m=i("bTqV");function x(e,t){if(1&e){var i=c.Sb();c.Rb(0,"div",3),c.Rb(1,"div",4),c.Rb(2,"strong"),c.uc(3,"Exam #"),c.Qb(),c.uc(4),c.Qb(),c.Rb(5,"div",5),c.Rb(6,"strong"),c.uc(7,"Active:"),c.Qb(),c.uc(8),c.Qb(),c.Rb(9,"div",4),c.Rb(10,"strong"),c.uc(11,"Time:"),c.Qb(),c.uc(12),c.Qb(),c.Rb(13,"div",5),c.Rb(14,"strong"),c.uc(15,"Questions Amount:"),c.Qb(),c.uc(16),c.Qb(),c.Rb(17,"div",6),c.Rb(18,"button",7),c.Zb("click",(function(e){c.nc(i);var n=t.index;return c.dc().onQuestions(n)})),c.uc(19,"Questions"),c.Qb(),c.Qb(),c.Rb(20,"div",6),c.Rb(21,"button",8),c.Zb("click",(function(e){c.nc(i);var n=t.index;return c.dc().onUpdate(n)})),c.uc(22,"Change"),c.Qb(),c.Qb(),c.Rb(23,"div",6),c.Rb(24,"button",9),c.Zb("click",(function(e){c.nc(i);var n=t.index;return c.dc().onDelete(n)})),c.uc(25,"Delete"),c.Qb(),c.Qb(),c.Qb()}if(2&e){var n=t.$implicit;c.Bb(4),c.wc(" ",n.exam_num,""),c.Bb(4),c.wc(" ",n.is_active,""),c.Bb(4),c.wc(" ",n.exam_time,""),c.Bb(4),c.wc(" ",n.questions_amount,"")}}var l,f=((l=function(){function e(t,i,n,a){_classCallCheck(this,e),this.examService=t,this.snackbarService=i,this.dialogService=n,this.router=a}return _createClass(e,[{key:"ngOnInit",value:function(){this.getExams()}},{key:"getExams",value:function(){var e=this;this.getExamsSub=this.examService.examsGet$().subscribe((function(t){e.examService.exams=t}),this.snackbarService.displayError)}},{key:"onDelete",value:function(e){var t=this,i=this.examService.exams[e]._id;this.confirmDialogSub=this.dialogService.openConfirmDialog().subscribe((function(e){e&&(t.deleteExamSub=t.examService.examDelete$(i).subscribe((function(e){t.examService.exams=t.examService.exams.filter((function(e){return e._id!==i}))}),t.snackbarService.displayError))}))}},{key:"onUpdate",value:function(e){var t=this,i=this.examService.exams[e]._id;this.confirmDialogSub=this.examService.exams[e].is_active?this.dialogService.openConfirmDialog().subscribe((function(n){n&&(t.updateExamsub=t.examService.examPut$(i,{is_active:!1}).subscribe((function(i){t.examService.exams[e].is_active=!1}),t.snackbarService.displayError))})):this.dialogService.openExamActivateDialog(this.examService.exams[e]).subscribe((function(n){n&&(n.is_active=!0,t.updateExamsub=t.examService.examPut$(i,n).subscribe((function(i){t.examService.exams[e].is_active=!0,t.examService.exams[e].exam_time=n.exam_time,t.examService.exams[e].questions_amount=n.questions_amount}),t.snackbarService.displayError))}))}},{key:"onAdd",value:function(){var e=this;this.createExamDialogSub=this.dialogService.openCreateExamDialog().subscribe((function(t){e.createExamSub=e.examService.examPost$({exam_num:t}).subscribe((function(t){e.examService.exams.push(t)}),e.snackbarService.displayError)}))}},{key:"onQuestions",value:function(e){this.router.navigate(["/admin/questions/"+this.examService.exams[e].exam_num])}},{key:"ngOnDestroy",value:function(){this.getExamsSub&&this.getExamsSub.unsubscribe(),this.confirmDialogSub&&this.confirmDialogSub.unsubscribe(),this.createExamDialogSub&&this.createExamDialogSub.unsubscribe(),this.deleteExamSub&&this.deleteExamSub.unsubscribe(),this.createExamSub&&this.createExamSub.unsubscribe(),this.updateExamsub&&this.updateExamsub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||l)(c.Mb(o),c.Mb(u.a),c.Mb(b.a),c.Mb(r.b))},l.\u0275cmp=c.Gb({type:l,selectors:[["app-exams"]],decls:4,vars:1,consts:[[1,"add-exam"],["mat-raised-button","","color","primary",1,"exam-btn-add",3,"click"],["class","wrapper-exam",4,"ngFor","ngForOf"],[1,"wrapper-exam"],[1,"exam-info-very-small"],[1,"exam-info-small"],[1,"exam-info","exam-info-btn"],["mat-raised-button","","color","primary",1,"exam-btn",3,"click"],["mat-raised-button","","color","accent",1,"exam-btn",3,"click"],["mat-raised-button","","color","warn",1,"exam-btn",3,"click"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"button",1),c.Zb("click",(function(e){return t.onAdd()})),c.uc(2,"Add Exam"),c.Qb(),c.Qb(),c.tc(3,x,26,4,"div",2)),2&e&&(c.Bb(3),c.ic("ngForOf",t.examService.exams))},directives:[m.a,a.i],styles:[".wrapper-exam[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:3%;padding:5px;width:95%;margin:1.5% auto;background-color:rgba(0,0,0,.03);-webkit-box-align:center;align-items:center}.wrapper-exam[_ngcontent-%COMP%]   .exam-info-very-small[_ngcontent-%COMP%]{-webkit-box-flex:10;flex:10}.wrapper-exam[_ngcontent-%COMP%]   .exam-info-small[_ngcontent-%COMP%]{-webkit-box-flex:15;flex:15}.wrapper-exam[_ngcontent-%COMP%]   .exam-info[_ngcontent-%COMP%]{-webkit-box-flex:60;flex:60}.wrapper-exam[_ngcontent-%COMP%]   .exam-info-btn[_ngcontent-%COMP%]{-webkit-box-flex:3;flex:3}.wrapper-exam[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-weight:700;margin-right:5px;display:inline-block;-webkit-transform:translateY(-5px);transform:translateY(-5px)}.wrapper-exam[_ngcontent-%COMP%]   .exam-btn[_ngcontent-%COMP%]{height:15px;width:50px;font-size:10px;line-height:7px}.add-exam[_ngcontent-%COMP%]{text-align:end}.add-exam[_ngcontent-%COMP%]   .exam-btn-add[_ngcontent-%COMP%]{margin-right:2.5%;margin-top:1%}"]}),l),d=i("PCNd");i.d(t,"ExamModule",(function(){return h}));var v,p=[{path:"",component:f}],h=((v=function e(){_classCallCheck(this,e)}).\u0275mod=c.Kb({type:v}),v.\u0275inj=c.Jb({factory:function(e){return new(e||v)},providers:[b.a],imports:[[a.b,r.e.forChild(p),d.a,m.b]]}),v)}}]);