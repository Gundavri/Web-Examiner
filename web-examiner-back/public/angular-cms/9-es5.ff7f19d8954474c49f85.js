function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{rQH4:function(e,t,n){"use strict";n.r(t);var r,i=n("ofXK"),a=n("fXoL"),o=n("tk/3"),s=((r=function(){function e(t){_classCallCheck(this,e),this.httpClient=t,this.urlSuffix="/writtenexam"}return _createClass(e,[{key:"writtenExamsGet$",value:function(){return this.httpClient.get(this.urlSuffix)}},{key:"writtenExamDelete$",value:function(e){return this.httpClient.delete(this.urlSuffix+"/"+e)}}]),e}()).\u0275fac=function(e){return new(e||r)(a.Vb(o.b))},r.\u0275prov=a.Ib({token:r,factory:r.\u0275fac}),r),c=n("S+vS"),u=n("4xmj"),l=n("kmnG"),b=n("qFsG"),f=n("bTqV");function m(e,t){if(1&e){var n=a.Sb();a.Rb(0,"div",4),a.Rb(1,"div",5),a.Rb(2,"strong"),a.uc(3,"Exam #:"),a.Qb(),a.uc(4),a.Qb(),a.Rb(5,"div",6),a.Rb(6,"strong"),a.uc(7,"Username:"),a.Qb(),a.uc(8),a.Qb(),a.Rb(9,"div",6),a.Rb(10,"strong"),a.uc(11,"Email:"),a.Qb(),a.uc(12),a.Qb(),a.Rb(13,"div",5),a.Rb(14,"strong"),a.uc(15,"Score:"),a.Qb(),a.uc(16),a.Qb(),a.Rb(17,"div",7),a.Rb(18,"strong"),a.uc(19,"Date:"),a.Qb(),a.uc(20),a.ec(21,"date"),a.Qb(),a.Rb(22,"div",8),a.Rb(23,"button",9),a.Zb("click",(function(e){a.nc(n);var r=t.index;return a.dc().onDelete(r)})),a.uc(24,"Delete"),a.Qb(),a.Qb(),a.Qb()}if(2&e){var r=t.$implicit;a.Bb(4),a.wc(" ",r.exam_num,""),a.Bb(4),a.wc(" ",r.user.username,""),a.Bb(4),a.wc(" ",r.user.email,""),a.Bb(4),a.wc(" ",r.score,""),a.Bb(4),a.wc(" ",a.fc(21,5,r.createDate),"")}}var w,p=((w=function(){function e(t,n,r){_classCallCheck(this,e),this.writtenExamService=t,this.dialogService=n,this.snackbarService=r,this.writtenExams=[],this.writtenExamsToShow=[],this.prevSearch="",this.subscriptionsArr=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getWrittenExams()}},{key:"getWrittenExams",value:function(){var e=this;this.subscriptionsArr.push(this.writtenExamService.writtenExamsGet$().subscribe((function(t){e.writtenExams=t,e.onSearchChange("")})))}},{key:"onDelete",value:function(e){var t=this;this.subscriptionsArr.push(this.dialogService.openConfirmDialog().subscribe((function(n){n&&t.writtenExamService.writtenExamDelete$(t.writtenExamsToShow[e]._id).subscribe((function(n){t.writtenExams=t.writtenExams.filter((function(n){return n._id!==t.writtenExamsToShow[e]._id})),t.search()}),t.snackbarService.displayError)})))}},{key:"search",value:function(){var e=this;this.writtenExamsToShow=_toConsumableArray(this.writtenExams),this.writtenExamsToShow=this.writtenExams.filter((function(t){return t.exam_num==Number(e.prevSearch)||t.user.username.toLowerCase().includes(e.prevSearch.toLowerCase())||t.user.email.toLowerCase().includes(e.prevSearch.toLowerCase())}))}},{key:"onSearchChange",value:function(e){this.prevSearch=e,this.search()}},{key:"ngOnDestroy",value:function(){this.subscriptionsArr.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||w)(a.Mb(s),a.Mb(c.a),a.Mb(u.a))},w.\u0275cmp=a.Gb({type:w,selectors:[["app-written-exams"]],decls:7,vars:1,consts:[[1,"written-exam-header"],["matInput","","placeholder","","type","text",3,"input"],["search",""],["class","wrapper-written-exam",4,"ngFor","ngForOf"],[1,"wrapper-written-exam"],[1,"written-exam-info-very-small"],[1,"written-exam-info-small"],[1,"written-exam-info"],[1,"written-exam-info","written-exam-info-btn"],["mat-raised-button","","color","warn",1,"written-exam-btn",3,"click"]],template:function(e,t){if(1&e){var n=a.Sb();a.Rb(0,"div",0),a.Rb(1,"mat-form-field"),a.Rb(2,"mat-label"),a.uc(3,"Search..."),a.Qb(),a.Rb(4,"input",1,2),a.Zb("input",(function(e){a.nc(n);var r=a.lc(5);return t.onSearchChange(r.value)})),a.Qb(),a.Qb(),a.Qb(),a.tc(6,m,25,7,"div",3)}2&e&&(a.Bb(6),a.ic("ngForOf",t.writtenExamsToShow))},directives:[l.b,l.e,b.a,i.i,f.a],pipes:[i.d],styles:[".wrapper-written-exam[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:flex;height:3%;padding:5px;width:95%;margin:1.5% auto;background-color:rgba(0,0,0,.03);-webkit-box-align:center;align-items:center}.wrapper-written-exam[_ngcontent-%COMP%]   .written-exam-info[_ngcontent-%COMP%]{-webkit-box-flex:100;flex:100}.wrapper-written-exam[_ngcontent-%COMP%]   .written-exam-info-small[_ngcontent-%COMP%]{-webkit-box-flex:80;flex:80}.wrapper-written-exam[_ngcontent-%COMP%]   .written-exam-info-very-small[_ngcontent-%COMP%]{-webkit-box-flex:30;flex:30}.wrapper-written-exam[_ngcontent-%COMP%]   .written-exam-info-btn[_ngcontent-%COMP%]{-webkit-box-flex:8;flex:8;position:absolute;right:0}.wrapper-written-exam[_ngcontent-%COMP%]   .written-exam-btn[_ngcontent-%COMP%]{height:15px;width:25px;font-size:10px;line-height:7px}.wrapper-written-exam[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-weight:700;margin-right:5px;display:inline-block;-webkit-transform:translateY(-5px);transform:translateY(-5px)}.written-exam-header[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-left:2.5%;margin-top:1%}"]}),w),h=n("tyNb"),x=n("PCNd");n.d(t,"WrittenExamsModule",(function(){return v}));var g,d=[{path:"",component:p}],v=((g=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:g}),g.\u0275inj=a.Jb({factory:function(e){return new(e||g)},providers:[s],imports:[[i.b,h.e.forChild(d),x.a,f.b,b.b]]}),g)}}]);