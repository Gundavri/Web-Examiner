(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{JqxB:function(e,t,i){"use strict";i.r(t);var a=i("ofXK"),n=i("tyNb"),s=i("fXoL"),r=i("tk/3");let c=(()=>{class e{constructor(e){this.httpClient=e,this.urlSuffix="/exam",this.exams=[]}examsGet$(){return this.httpClient.get(this.urlSuffix)}examDelete$(e){return this.httpClient.delete(this.urlSuffix+"/"+e)}examPost$(e){return this.httpClient.post(this.urlSuffix,e)}examPut$(e,t){return this.httpClient.put(this.urlSuffix+"/"+e,t)}}return e.\u0275fac=function(t){return new(t||e)(s.Vb(r.b))},e.\u0275prov=s.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var o=i("4xmj"),b=i("S+vS"),m=i("bTqV");function x(e,t){if(1&e){const e=s.Sb();s.Rb(0,"div",3),s.Rb(1,"div",4),s.Rb(2,"strong"),s.uc(3,"Exam #"),s.Qb(),s.uc(4),s.Qb(),s.Rb(5,"div",5),s.Rb(6,"strong"),s.uc(7,"Active:"),s.Qb(),s.uc(8),s.Qb(),s.Rb(9,"div",4),s.Rb(10,"strong"),s.uc(11,"Time:"),s.Qb(),s.uc(12),s.Qb(),s.Rb(13,"div",5),s.Rb(14,"strong"),s.uc(15,"Questions Amount:"),s.Qb(),s.uc(16),s.Qb(),s.Rb(17,"div",6),s.Rb(18,"button",7),s.Zb("click",(function(i){s.nc(e);const a=t.index;return s.dc().onQuestions(a)})),s.uc(19,"Questions"),s.Qb(),s.Qb(),s.Rb(20,"div",6),s.Rb(21,"button",8),s.Zb("click",(function(i){s.nc(e);const a=t.index;return s.dc().onUpdate(a)})),s.uc(22,"Change"),s.Qb(),s.Qb(),s.Rb(23,"div",6),s.Rb(24,"button",9),s.Zb("click",(function(i){s.nc(e);const a=t.index;return s.dc().onDelete(a)})),s.uc(25,"Delete"),s.Qb(),s.Qb(),s.Qb()}if(2&e){const e=t.$implicit;s.Bb(4),s.wc(" ",e.exam_num,""),s.Bb(4),s.wc(" ",e.is_active,""),s.Bb(4),s.wc(" ",e.exam_time,""),s.Bb(4),s.wc(" ",e.questions_amount,"")}}let u=(()=>{class e{constructor(e,t,i,a){this.examService=e,this.snackbarService=t,this.dialogService=i,this.router=a}ngOnInit(){this.getExams()}getExams(){this.getExamsSub=this.examService.examsGet$().subscribe(e=>{this.examService.exams=e},this.snackbarService.displayError)}onDelete(e){const t=this.examService.exams[e]._id;this.confirmDialogSub=this.dialogService.openConfirmDialog().subscribe(e=>{e&&(this.deleteExamSub=this.examService.examDelete$(t).subscribe(e=>{this.examService.exams=this.examService.exams.filter(e=>e._id!==t)},this.snackbarService.displayError))})}onUpdate(e){const t=this.examService.exams[e]._id;this.confirmDialogSub=this.examService.exams[e].is_active?this.dialogService.openConfirmDialog().subscribe(i=>{i&&(this.updateExamsub=this.examService.examPut$(t,{is_active:!1}).subscribe(t=>{this.examService.exams[e].is_active=!1},this.snackbarService.displayError))}):this.dialogService.openExamActivateDialog(this.examService.exams[e]).subscribe(i=>{i&&(i.is_active=!0,this.updateExamsub=this.examService.examPut$(t,i).subscribe(t=>{this.examService.exams[e].is_active=!0,this.examService.exams[e].exam_time=i.exam_time,this.examService.exams[e].questions_amount=i.questions_amount},this.snackbarService.displayError))})}onAdd(){this.createExamDialogSub=this.dialogService.openCreateExamDialog().subscribe(e=>{this.createExamSub=this.examService.examPost$({exam_num:e}).subscribe(e=>{this.examService.exams.push(e)},this.snackbarService.displayError)})}onQuestions(e){this.router.navigate(["/admin/questions/"+this.examService.exams[e].exam_num])}ngOnDestroy(){this.getExamsSub&&this.getExamsSub.unsubscribe(),this.confirmDialogSub&&this.confirmDialogSub.unsubscribe(),this.createExamDialogSub&&this.createExamDialogSub.unsubscribe(),this.deleteExamSub&&this.deleteExamSub.unsubscribe(),this.createExamSub&&this.createExamSub.unsubscribe(),this.updateExamsub&&this.updateExamsub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(c),s.Mb(o.a),s.Mb(b.a),s.Mb(n.b))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-exams"]],decls:4,vars:1,consts:[[1,"add-exam"],["mat-raised-button","","color","primary",1,"exam-btn-add",3,"click"],["class","wrapper-exam",4,"ngFor","ngForOf"],[1,"wrapper-exam"],[1,"exam-info-very-small"],[1,"exam-info-small"],[1,"exam-info","exam-info-btn"],["mat-raised-button","","color","primary",1,"exam-btn",3,"click"],["mat-raised-button","","color","accent",1,"exam-btn",3,"click"],["mat-raised-button","","color","warn",1,"exam-btn",3,"click"]],template:function(e,t){1&e&&(s.Rb(0,"div",0),s.Rb(1,"button",1),s.Zb("click",(function(e){return t.onAdd()})),s.uc(2,"Add Exam"),s.Qb(),s.Qb(),s.tc(3,x,26,4,"div",2)),2&e&&(s.Bb(3),s.ic("ngForOf",t.examService.exams))},directives:[m.a,a.i],styles:[".wrapper-exam[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:3%;padding:5px;width:95%;margin:1.5% auto;background-color:rgba(0,0,0,.03);-webkit-box-align:center;align-items:center}.wrapper-exam[_ngcontent-%COMP%]   .exam-info-very-small[_ngcontent-%COMP%]{-webkit-box-flex:10;flex:10}.wrapper-exam[_ngcontent-%COMP%]   .exam-info-small[_ngcontent-%COMP%]{-webkit-box-flex:15;flex:15}.wrapper-exam[_ngcontent-%COMP%]   .exam-info[_ngcontent-%COMP%]{-webkit-box-flex:60;flex:60}.wrapper-exam[_ngcontent-%COMP%]   .exam-info-btn[_ngcontent-%COMP%]{-webkit-box-flex:3;flex:3}.wrapper-exam[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-weight:700;margin-right:5px;display:inline-block;-webkit-transform:translateY(-5px);transform:translateY(-5px)}.wrapper-exam[_ngcontent-%COMP%]   .exam-btn[_ngcontent-%COMP%]{height:15px;width:50px;font-size:10px;line-height:7px}.add-exam[_ngcontent-%COMP%]{text-align:end}.add-exam[_ngcontent-%COMP%]   .exam-btn-add[_ngcontent-%COMP%]{margin-right:2.5%;margin-top:1%}"]}),e})();var l=i("PCNd");i.d(t,"ExamModule",(function(){return d}));const h=[{path:"",component:u}];let d=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(t){return new(t||e)},providers:[b.a],imports:[[a.b,n.e.forChild(h),l.a,m.b]]}),e})()}}]);